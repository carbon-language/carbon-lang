; NOTE: Assertions have been autogenerated by utils/update_test_checks.py
; RUN: opt < %s -passes=instsimplify -S | FileCheck %s

define i32 @shift_select(i1 %cond) {
; CHECK-LABEL: @shift_select(
; CHECK-NEXT:    ret i32 0
;
  %s = select i1 %cond, i32 0, i32 1
  %r = lshr i32 %s, 1
  ret i32 %r
}
