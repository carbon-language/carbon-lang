; NOTE: Assertions have been autogenerated by utils/update_test_checks.py
; RUN: opt < %s -passes=globalopt -S | FileCheck %s

@X = internal global i128 0

define void @foo() {
; CHECK-LABEL: @foo(
; CHECK-NEXT:    [[T0_B:%.*]] = load i1, i1* @X
; CHECK-NEXT:    [[T0:%.*]] = select i1 [[T0_B]], i128 18446744073709551616, i128 0
; CHECK-NEXT:    ret void
;
  %t0 = load i128, i128* @X, align 8
  ret void
}

define void @store() {
; CHECK-LABEL: @store(
; CHECK-NEXT:    store i1 true, i1* @X
; CHECK-NEXT:    ret void
;
  store i128 18446744073709551616, i128* @X, align 8
  ret void
}
