; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc -mtriple=x86_64-linux -opaque-pointers < %s | FileCheck %s

define void @okay(ptr %p, i32 %x) nounwind {
; CHECK-LABEL: okay:
; CHECK:       # %bb.0:
; CHECK-NEXT:    #APP
; CHECK-NEXT:    addl %esi, %eax
; CHECK-NEXT:    #NO_APP
; CHECK-NEXT:    movl %eax, (%rdi)
; CHECK-NEXT:    retq
  call void asm "addl $1, $0", "=*r,r"(ptr elementtype(i32) %p, i32 %x)
  ret void
}
