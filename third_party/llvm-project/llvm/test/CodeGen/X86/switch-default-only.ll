; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc -O0 -fast-isel=false -mtriple=i686-- < %s | FileCheck %s

; No need for branching when the default and only destination follows
; immediately after the switch.
define void @no_branch(i32 %x) {
; CHECK-LABEL: no_branch:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    movl {{[0-9]+}}(%esp), %eax
; CHECK-NEXT:  # %bb.1: # %exit
; CHECK-NEXT:    retl
entry:
  switch i32 %x, label %exit [ ]
exit:
  ret void
}
