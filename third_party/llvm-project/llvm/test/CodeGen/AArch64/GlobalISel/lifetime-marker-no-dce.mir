# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple aarch64 -run-pass=aarch64-prelegalizer-combiner -global-isel -verify-machineinstrs %s -o - | FileCheck %s
# Check that we don't DCE the lifetime markers even though they don't have any users.
---
name:            test_lifetime_no_dce
alignment:       4
tracksRegLiveness: true
frameInfo:
  maxAlignment:    4
stack:
  - { id: 0, size: 4, alignment: 4 }
machineFunctionInfo: {}
body:             |
  bb.1:
    ;%0:_(p0) = G_FRAME_INDEX %stack.0.slot
    ; CHECK-LABEL: name: test_lifetime_no_dce
    ; CHECK: LIFETIME_START %stack.0
    ; CHECK: LIFETIME_END %stack.0
    ; CHECK: RET_ReallyLR
    LIFETIME_START %stack.0
    LIFETIME_END %stack.0
    RET_ReallyLR

...
