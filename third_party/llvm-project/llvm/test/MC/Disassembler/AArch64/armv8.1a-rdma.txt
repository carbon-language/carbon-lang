# RUN: not llvm-mc -triple aarch64-none-linux-gnu -mattr=+v8.1a --disassemble < %s 2>&1 | FileCheck %s

[0x20,0x84,0x02,0x2e] # sqrdmlah  v0.8b, v1.8b, v2.8b
[0x20,0x8c,0x02,0x2e] # sqrdmlsh  v0.8b, v1.8b, v2.8b
[0x20,0x84,0xc2,0x2e] # sqrdmlah  v0.1d, v1.1d, v2.1d
[0x20,0x8c,0xc2,0x2e] # sqrdmlsh  v0.1d, v1.1d, v2.1d
[0x20,0x84,0x02,0x6e] # sqrdmlah  v0.16b, v1.16b, v2.16b
[0x20,0x8c,0x02,0x6e] # sqrdmlsh  v0.16b, v1.16b, v2.16b
[0x20,0x84,0xc2,0x6e] # sqrdmlah  v0.2d, v1.2d, v2.2d
[0x20,0x8c,0xc2,0x6e] # sqrdmlsh  v0.2d, v1.2d, v2.2d
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0x84,0x02,0x2e]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0x8c,0x02,0x2e]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0x84,0xc2,0x2e]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0x8c,0xc2,0x2e]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0x84,0x02,0x6e]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0x8c,0x02,0x6e]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0x84,0xc2,0x6e]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0x8c,0xc2,0x6e]

[0x20,0x84,0x02,0x7e] # sqrdmlah b0, b1, b2
[0x20,0x8c,0x02,0x7e] # sqrdmlsh b0, b1, b2
[0x20,0x84,0xc2,0x7e] # sqrdmlah d0, d1, d2
[0x20,0x8c,0xc2,0x7e] # sqrdmlsh d0, d1, d2
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0x84,0x02,0x7e]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0x8c,0x02,0x7e]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0x84,0xc2,0x7e]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0x8c,0xc2,0x7e]

[0x20,0xd0,0x32,0x2f] # sqrdmlah v0.8b, v1.8b, v2.b[3]
[0x20,0xf0,0x32,0x2f] # sqrdmlsh v0.8b, v1.8b, v2.b[3]
[0x20,0xd0,0xe2,0x2f] # sqrdmlah v0.1d, v1.1d, v2.d[1]
[0x20,0xf0,0xe2,0x2f] # sqrdmlsh v0.1d, v1.1d, v2.d[1]
[0x20,0xd0,0x32,0x6f] # sqrdmlah v0.16b, v1.16b, v2.b[3]
[0x20,0xf0,0x32,0x6f] # sqrdmlsh v0.16b, v1.16b, v2.b[3]
[0x20,0xd8,0xe2,0x6f] # sqrdmlah v0.2d, v1.2d, v2.d[3]
[0x20,0xf8,0xe2,0x6f] # sqrdmlsh v0.2d, v1.2d, v2.d[3]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0xd0,0x32,0x2f]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0xf0,0x32,0x2f]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0xd0,0xe2,0x2f]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0xf0,0xe2,0x2f]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0xd0,0x32,0x6f]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0xf0,0x32,0x6f]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0xd8,0xe2,0x6f]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0xf8,0xe2,0x6f]

[0x20,0xd0,0x32,0x7f] # sqrdmlah b0, b1, v2.b[3]
[0x20,0xf0,0x32,0x7f] # sqrdmlsh b0, b1, v2.b[3]
[0x20,0xd8,0xe2,0x7f] # sqrdmlah d0, d1, v2.d[3]
[0x20,0xf8,0xe2,0x7f] # sqrdmlsh d0, d1, v2.d[3]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0xd0,0x32,0x7f]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0xf0,0x32,0x7f]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0xd8,0xe2,0x7f]
# CHECK: warning: invalid instruction encoding
# CHECK: [0x20,0xf8,0xe2,0x7f]

[0x20,0x84,0x42,0x2e]
[0x20,0x8c,0x42,0x2e]
[0x20,0x84,0x82,0x2e]
[0x20,0x8c,0x82,0x2e]
[0x20,0x84,0x42,0x6e]
[0x20,0x8c,0x42,0x6e]
[0x20,0x84,0x82,0x6e]
[0x20,0x8c,0x82,0x6e]
# CHECK: sqrdmlah  v0.4h, v1.4h, v2.4h
# CHECK: sqrdmlsh  v0.4h, v1.4h, v2.4h
# CHECK: sqrdmlah  v0.2s, v1.2s, v2.2s
# CHECK: sqrdmlsh  v0.2s, v1.2s, v2.2s
# CHECK: sqrdmlah  v0.8h, v1.8h, v2.8h
# CHECK: sqrdmlsh  v0.8h, v1.8h, v2.8h
# CHECK: sqrdmlah  v0.4s, v1.4s, v2.4s
# CHECK: sqrdmlsh  v0.4s, v1.4s, v2.4s

[0x20,0x84,0x42,0x7e]
[0x20,0x8c,0x42,0x7e]
[0x20,0x84,0x82,0x7e]
[0x20,0x8c,0x82,0x7e]
# CHECK: sqrdmlah h0, h1, h2
# CHECK: sqrdmlsh h0, h1, h2
# CHECK: sqrdmlah s0, s1, s2
# CHECK: sqrdmlsh s0, s1, s2

0x20,0xd0,0x72,0x2f
0x20,0xf0,0x72,0x2f
0x20,0xd0,0xa2,0x2f
0x20,0xf0,0xa2,0x2f
0x20,0xd0,0x72,0x6f
0x20,0xf0,0x72,0x6f
0x20,0xd8,0xa2,0x6f
0x20,0xf8,0xa2,0x6f
# CHECK: sqrdmlah v0.4h, v1.4h, v2.h[3]
# CHECK: sqrdmlsh v0.4h, v1.4h, v2.h[3]
# CHECK: sqrdmlah v0.2s, v1.2s, v2.s[1]
# CHECK: sqrdmlsh v0.2s, v1.2s, v2.s[1]
# CHECK: sqrdmlah v0.8h, v1.8h, v2.h[3]
# CHECK: sqrdmlsh v0.8h, v1.8h, v2.h[3]
# CHECK: sqrdmlah v0.4s, v1.4s, v2.s[3]
# CHECK: sqrdmlsh v0.4s, v1.4s, v2.s[3]

0x20,0xd0,0x72,0x7f
0x20,0xf0,0x72,0x7f
0x20,0xd8,0xa2,0x7f
0x20,0xf8,0xa2,0x7f
# CHECK: sqrdmlah h0, h1, v2.h[3]
# CHECK: sqrdmlsh h0, h1, v2.h[3]
# CHECK: sqrdmlah s0, s1, v2.s[3]
# CHECK: sqrdmlsh s0, s1, v2.s[3]
