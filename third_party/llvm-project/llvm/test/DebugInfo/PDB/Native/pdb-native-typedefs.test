; Test that the native PDB reader can enumerate typedefs.  The output being
; checked against is golden output generated by llvm-pdbutil without the
; -native flag.  Then we check that we generate the same output.

; RUN: llvm-pdbutil pretty -native -typedefs %p/../Inputs/symbolformat.pdb \
; RUN:     | FileCheck -check-prefix=PRETTY %s

; RUN: llvm-pdbutil diadump -native -typedefs %p/../Inputs/symbolformat.pdb \
; RUN:     | FileCheck -check-prefix=DUMP %s

PRETTY:      Typedefs: (3 items)
PRETTY-NEXT:    typedef int IntType
PRETTY-NEXT:    typedef class A ClassAType
PRETTY-NEXT:    typedef int[3] int_array

DUMP:      {
DUMP-NEXT:   symIndexId: 2
DUMP-NEXT:   symTag: Typedef
DUMP-NEXT:   name: IntType
DUMP-NEXT:   typeId: 3
DUMP-NEXT: }
DUMP-NEXT: {
DUMP-NEXT:   symIndexId: 4
DUMP-NEXT:   symTag: Typedef
DUMP-NEXT:   name: ClassAType
DUMP-NEXT:   typeId: 5
DUMP-NEXT: }
DUMP-NEXT: {
DUMP-NEXT:   symIndexId: 6
DUMP-NEXT:   symTag: Typedef
DUMP-NEXT:   name: int_array
DUMP-NEXT:   typeId: 7
DUMP-NEXT: }
