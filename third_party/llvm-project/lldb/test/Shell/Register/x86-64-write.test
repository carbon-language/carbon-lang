# xfail with system debugserver until the fix for
# https://reviews.llvm.org/D123269 in
# lldb/tools/debugserver/source/MacOSX/x86_64/DNBArchImplX86_64.cpp
# has made it into released tools.
# XFAIL: system-debugserver

# XFAIL: system-windows
# REQUIRES: native && target-x86_64
# RUN: %clangxx_host %p/Inputs/x86-64-write.cpp -o %t
# RUN: %lldb -b -s %s %t | FileCheck %s
process launch

register write r8 0x0001020304050607
register write r9 0x1011121314151617
register write r10 0x2021222324252627
register write r11 0x3031323334353637
register write r12 0x4041424344454647
register write r13 0x5051525354555657
register write r14 0x6061626364656667
register write r15 0x7071727374757677

register write xmm8 "{0x08 0x09 0x0a 0x0b 0x0c 0x0d 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17}"
register write xmm9 "{0x09 0x0a 0x0b 0x0c 0x0d 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18}"
register write xmm10 "{0x0a 0x0b 0x0c 0x0d 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19}"
register write xmm11 "{0x0b 0x0c 0x0d 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19 0x1a}"
register write xmm12 "{0x0c 0x0d 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19 0x1a 0x1b}"
register write xmm13 "{0x0d 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19 0x1a 0x1b 0x1c}"
register write xmm14 "{0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19 0x1a 0x1b 0x1c 0x1d}"
register write xmm15 "{0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19 0x1a 0x1b 0x1c 0x1d 0x1e}"

process continue
# CHECK: process continue

# CHECK-DAG: r8 = 0x0001020304050607
# CHECK-DAG: r9 = 0x1011121314151617
# CHECK-DAG: r10 = 0x2021222324252627
# CHECK-DAG: r11 = 0x3031323334353637
# CHECK-DAG: r12 = 0x4041424344454647
# CHECK-DAG: r13 = 0x5051525354555657
# CHECK-DAG: r14 = 0x6061626364656667
# CHECK-DAG: r15 = 0x7071727374757677

# CHECK-DAG: xmm8 = { 0x08 0x09 0x0a 0x0b 0x0c 0x0d 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 }
# CHECK-DAG: xmm9 = { 0x09 0x0a 0x0b 0x0c 0x0d 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 }
# CHECK-DAG: xmm10 = { 0x0a 0x0b 0x0c 0x0d 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19 }
# CHECK-DAG: xmm11 = { 0x0b 0x0c 0x0d 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19 0x1a }
# CHECK-DAG: xmm12 = { 0x0c 0x0d 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19 0x1a 0x1b }
# CHECK-DAG: xmm13 = { 0x0d 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19 0x1a 0x1b 0x1c }
# CHECK-DAG: xmm14 = { 0x0e 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19 0x1a 0x1b 0x1c 0x1d }
# CHECK-DAG: xmm15 = { 0x0f 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19 0x1a 0x1b 0x1c 0x1d 0x1e }

# CHECK: Process {{[0-9]+}} exited with status = 0
