CXX_SOURCES := main.cpp
USE_LIBDL := 1

all: t2_0 t2_1 t1 a.out

include Makefile.rules

t1: t2_0
	$(MAKE) VPATH=$(SRCDIR) -f $(MAKEFILE_RULES) \
		DYLIB_ONLY=YES DYLIB_C_SOURCES=t1.c DYLIB_NAME=t1 LD_EXTRAS="-L. -lt2_0"

t2_0:
	$(MAKE) VPATH=$(SRCDIR) -f $(MAKEFILE_RULES) \
		DYLIB_ONLY=YES DYLIB_C_SOURCES=t2_0.c DYLIB_NAME=t2_0

t2_1:
	$(MAKE) VPATH=$(SRCDIR) -f $(MAKEFILE_RULES) \
		DYLIB_ONLY=YES DYLIB_C_SOURCES=t2_1.c DYLIB_NAME=t2_1
