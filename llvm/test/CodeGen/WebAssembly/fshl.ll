; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc < %s | FileCheck %s

target triple = "wasm32-unknown-unknown"

; From https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=25150
define i33 @fshr_multi_use(i33 %a) {
; CHECK-LABEL: fshr_multi_use:
; CHECK:         .functype fshr_multi_use (i64) -> (i64)
; CHECK-NEXT:  # %bb.0:
; CHECK-NEXT:    local.get 0
; CHECK-NEXT:    i64.const 1
; CHECK-NEXT:    i64.shr_u
; CHECK-NEXT:    i64.const 31
; CHECK-NEXT:    i64.and
; CHECK-NEXT:    # fallthrough-return
  %b = tail call i33 @llvm.fshr.i33(i33 %a, i33 %a, i33 1)
  %e = and i33 %b, 31
  ret i33 %e
}

declare i33 @llvm.fshr.i33(i33, i33, i33)
