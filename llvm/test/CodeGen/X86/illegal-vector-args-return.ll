; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc < %s -mattr=+sse2 -mcpu=nehalem | FileCheck %s

target triple = "i686-apple-darwin8"

define <4 x double> @foo(<4 x double> %x, <4 x double> %z) {
; CHECK-LABEL: foo:
; CHECK:       ## %bb.0:
; CHECK-NEXT:    mulpd %xmm2, %xmm0
; CHECK-NEXT:    mulpd %xmm3, %xmm1
; CHECK-NEXT:    retl
  %y = fmul <4 x double> %x, %z
  ret <4 x double> %y
}

define <8 x float> @bar(<8 x float> %x, <8 x float> %z) {
; CHECK-LABEL: bar:
; CHECK:       ## %bb.0:
; CHECK-NEXT:    addps %xmm2, %xmm0
; CHECK-NEXT:    addps %xmm3, %xmm1
; CHECK-NEXT:    retl
  %y = fadd <8 x float> %x, %z
  ret <8 x float> %y
}
