# RUN: llc -march=x86-64 -start-after branch-folder -stop-after branch-folder -o /dev/null %s | FileCheck %s
# This test ensures that the MIR parser parses the .cfi_def_cfa_offset operands
# correctly.

--- |

  define void @test() {
  entry:
    %tmp = alloca [4168 x i8], align 4
    ret void
  }

...
---
name:            test
tracksRegLiveness: true
frameInfo:
  stackSize:       4040
stack:
  - { id: 0, name: tmp, offset: -4176, size: 4168, alignment: 4 }
body:
  - id:              0
    name:            entry
    instructions:
      - '%rsp = SUB64ri32 %rsp, 4040, implicit-def dead %eflags'
     # CHECK: CFI_INSTRUCTION .cfi_def_cfa_offset 4048
      - 'CFI_INSTRUCTION .cfi_def_cfa_offset 4048'
      - '%rsp = ADD64ri32 %rsp, 4040, implicit-def dead %eflags'
      - 'RETQ'
...

