# NOTE: Assertions have been autogenerated by utils/update_mca_test_checks.py
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -resource-pressure=false -instruction-info=false -mcpu=btver2 < %s 2>&1 | FileCheck --check-prefixes=ALL,DEFAULT %s
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -resource-pressure=false -instruction-info=false -mcpu=btver2 -dispatch=0 < %s 2>&1 | FileCheck --check-prefixes=ALL,DEFAULT %s
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -resource-pressure=false -instruction-info=false -mcpu=btver2 -dispatch=1 < %s 2>&1 | FileCheck --check-prefixes=ALL,CUSTOM %s

add %eax, %eax

# ALL:          Iterations:        100
# ALL-NEXT:     Instructions:      100
# ALL-NEXT:     Total Cycles:      103
# ALL-NEXT:     Total uOps:        100

# CUSTOM:       Dispatch Width:    1
# CUSTOM-NEXT:  uOps Per Cycle:    0.97
# CUSTOM-NEXT:  IPC:               0.97
# CUSTOM-NEXT:  Block RThroughput: 1.0

# DEFAULT:      Dispatch Width:    2
# DEFAULT-NEXT: uOps Per Cycle:    0.97
# DEFAULT-NEXT: IPC:               0.97
# DEFAULT-NEXT: Block RThroughput: 0.5
