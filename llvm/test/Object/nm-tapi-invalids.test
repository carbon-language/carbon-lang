RUN: not llvm-nm %p/Inputs/tapi-invalid-v1.tbd 2>&1\
RUN:          | FileCheck %s -check-prefix v1

RUN: not llvm-nm %p/Inputs/tapi-invalid-v2.tbd 2>&1\
RUN:          | FileCheck %s -check-prefix v2

RUN: not llvm-nm %p/Inputs/tapi-invalid-v3.tbd 2>&1\
RUN:          | FileCheck %s -check-prefix v3

# Typo Check
v1: tapi-invalid-v1.tbd malformed file
v1: tapi-invalid-v1.tbd:12:2: error: unknown key 'expors'

# Missing required key
v2: tapi-invalid-v2.tbd malformed file
v2: tapi-invalid-v2.tbd:2:1: error: missing required key 'archs'

# v2 key in v3 specified file
v3: tapi-invalid-v3.tbd malformed file
v3: tapi-invalid-v3.tbd:19:16: error: unknown key 'swift-version'
