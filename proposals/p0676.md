# `:!` generic syntax

<!--
Part of the Carbon Language project, under the Apache License v2.0 with LLVM
Exceptions. See /LICENSE for license information.
SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
-->

[Pull request](https://github.com/carbon-language/carbon-lang/pull/676)

<!-- toc -->

## Table of contents

-   [Problem](#problem)
-   [Background](#background)
-   [Proposal](#proposal)
-   [Rationale based on Carbon's goals](#rationale-based-on-carbons-goals)
-   [Alternatives considered](#alternatives-considered)

<!-- tocstop -->

## Problem

Carbon design docs provisionally used `:$` to mark generic parameters. Since
then, [issue #565](https://github.com/carbon-language/carbon-lang/issues/565)
decided to use `:!` more permanently. This proposal is to implement that
decision.

## Background

Most popular languages put generic parameters inside angle brackets (`<`...`>`),
as can be seen on rosettacode.org:
[1](http://rosettacode.org/wiki/Generic_swap),
[2](http://rosettacode.org/wiki/Constrained_genericity).

## Proposal

Generic parameters will be marked using `:!` instead of `:` in the parameter
list. They are listed with the regular parameters if they are to be specified
explicitly by callers.

```
fn Zero(T:! ConvertFrom(Int)) -> T;

var zf : Float32 = Zero(Float32);
```

If they are instead deduced from the (types of) the regular parameters, they are
listed in square brackets (`[`...`]`) before the parameter list in round parens
(`(`...`)`).

```
fn Swap[T:! Movable](a: T*, b: T*);

var i: Int = 1;
var j: Int = 2;
Swap(&i, &j);
```

Template parameters use both a `template` keyword before the parameter and `:!`
in place of `:`.

```
fn FieldNames(template T:! Type) -> String;

Assert(FieldNames(struct {.x: Int, .y: Int}) == "x, y");
```

## Rationale based on Carbon's goals

TODO: How does this proposal effectively advance Carbon's goals? Rather than
re-stating the full motivation, this should connect that motivation back to
Carbon's stated goals for the project or language. This may evolve during
review.

## Alternatives considered

TODO: What alternative solutions have you considered?
